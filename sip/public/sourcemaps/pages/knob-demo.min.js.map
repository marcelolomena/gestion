{"version":3,"sources":["pages/knob-demo.js"],"names":["knobDemo","init","this","bindUIActions","handleKnob","infiniteKnob","$","knob","change","value","release","cancel","draw","data","cursorExt","a","arc","cv","pa","g","lineWidth","o","displayPrevious","v","beginPath","strokeStyle","pColor","xy","radius","s","e","d","stroke","fgColor","Math","PI","$idir","$ival","up","down","i","min","max","stopper","show","html","fadeOut"],"mappings":"aAGA,IAAMA,SAAW,CAEfC,KAFe,WAIbC,KAAKC,iBAIPA,cARe,WAWbD,KAAKE,aACLF,KAAKG,gBAGPD,WAfe,WAgBbE,EAAE,SAASC,KAAK,CACdC,OAAQ,SAAUC,KAGlBC,QAAS,SAAUD,KAGnBE,OAAQ,aAMRC,KAAM,WAEJ,GAA2B,QAAvBV,KAAKI,EAAEO,KAAK,QAAmB,CACjCX,KAAKY,UAAY,GACjB,IAAIC,EAAIb,KAAKc,IAAId,KAAKe,IAClBC,OAAAA,EAwBJ,OArBAhB,KAAKiB,EAAEC,UAAYlB,KAAKkB,UAEpBlB,KAAKmB,EAAEC,kBACTJ,EAAKhB,KAAKc,IAAId,KAAKqB,GACnBrB,KAAKiB,EAAEK,YACPtB,KAAKiB,EAAEM,YAAcvB,KAAKwB,OAC1BxB,KAAKiB,EAAEH,IAAId,KAAKyB,GAAIzB,KAAKyB,GAAIzB,KAAK0B,OAAS1B,KAAKkB,UAAWF,EAAGW,EAAGX,EAAGY,EAAGZ,EAAGa,GAC1E7B,KAAKiB,EAAEa,UAGT9B,KAAKiB,EAAEK,YACPtB,KAAKiB,EAAEM,YAAkBvB,KAAKmB,EAAEY,QAChC/B,KAAKiB,EAAEH,IAAId,KAAKyB,GAAIzB,KAAKyB,GAAIzB,KAAK0B,OAAS1B,KAAKkB,UAAWL,EAAEc,EAAGd,EAAEe,EAAGf,EAAEgB,GACvE7B,KAAKiB,EAAEa,SAEP9B,KAAKiB,EAAEC,UAAY,EACnBlB,KAAKiB,EAAEK,YACPtB,KAAKiB,EAAEM,YAAcvB,KAAKmB,EAAEY,QAC5B/B,KAAKiB,EAAEH,IAAId,KAAKyB,GAAIzB,KAAKyB,GAAIzB,KAAK0B,OAAS1B,KAAKkB,UAAY,EAAqB,EAAjBlB,KAAKkB,UAAgB,EAAG,EAAG,EAAIc,KAAKC,IAAI,GACxGjC,KAAKiB,EAAEa,UAEA,OAMf3B,aAhEe,WAkEb,IAAM+B,EAAQ9B,EAAE,YACV+B,EAAQ/B,EAAE,YACZiB,OAAAA,EAAGe,EAAK,EACRC,EAAO,EACPC,EAAI,EAYRlC,EAAE,kBAAkBC,KAAK,CACvBkC,IAAK,EACLC,IAAK,GACLC,SAAS,EACTnC,OAAQ,WACFe,EAAIrB,KAAKe,GACPqB,GAXRE,IACAJ,EAAMQ,OAAOC,KAAK,KAAKC,UACvBT,EAAMQ,KAAKL,GAWLF,EAAK,IAELA,EAAK,EACLC,EAAO,GAGLhB,EAAIrB,KAAKe,KACPsB,GAzBVC,IACAJ,EAAMQ,OAAOC,KAAK,KAAKC,UACvBT,EAAMQ,KAAKL,GAyBHD,EAAO,IAEPA,EAAO,EACPD,EAAK,IAIXf,EAAIrB,KAAKe,QAMjBjB,SAASC","file":"../../javascript/pages/knob-demo.min.js","sourcesContent":["// jQuery Knob Demo\n// =============================================================\n\nconst knobDemo = {\n\n  init () {\n\n    this.bindUIActions()\n\n  },\n\n  bindUIActions () {\n\n    // event handlers\n    this.handleKnob()\n    this.infiniteKnob()\n  },\n\n  handleKnob () {\n    $('.knob').knob({\n      change: function (value) {\n        console.log('change : ' + value)\n      },\n      release: function (value) {\n        console.log('release : ' + value)\n      },\n      cancel: function () {\n        console.log('cancel : ', this)\n      },\n      // format : function (value) {\n      //  return value + '%'\n      // },\n      draw: function () {\n        // 'tron' case\n        if (this.$.data('skin') == 'tron') {\n          this.cursorExt = 0.3\n          let a = this.arc(this.cv) // Arc\n          let pa // Previous arc\n          let r = 1\n\n          this.g.lineWidth = this.lineWidth\n\n          if (this.o.displayPrevious) {\n            pa = this.arc(this.v)\n            this.g.beginPath()\n            this.g.strokeStyle = this.pColor\n            this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, pa.s, pa.e, pa.d)\n            this.g.stroke()\n          }\n\n          this.g.beginPath()\n          this.g.strokeStyle = r ? this.o.fgColor : this.fgColor\n          this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, a.s, a.e, a.d)\n          this.g.stroke()\n\n          this.g.lineWidth = 2\n          this.g.beginPath()\n          this.g.strokeStyle = this.o.fgColor\n          this.g.arc(this.xy, this.xy, this.radius - this.lineWidth + 1 + this.lineWidth * 2 / 3, 0, 2 * Math.PI, false)\n          this.g.stroke()\n\n          return false\n        }\n      }\n    })\n  },\n\n  infiniteKnob () {\n    // Example of infinite knob, iPod click wheel\n    const $idir = $('div.idir')\n    const $ival = $('div.ival')\n    let v, up = 0\n    let down = 0\n    let i = 0\n    let incr = function () {\n      i++\n      $idir.show().html('+').fadeOut()\n      $ival.html(i)\n    }\n    let decr = function () {\n      i--\n      $idir.show().html('-').fadeOut()\n      $ival.html(i)\n    }\n\n    $('input.infinite').knob({\n      min: 0,\n      max: 20,\n      stopper: false,\n      change: function () {\n        if (v > this.cv) {\n          if (up) {\n            decr()\n            up = 0\n          } else {\n            up = 1\n            down = 0\n          }\n        } else {\n          if (v < this.cv) {\n            if (down) {\n              incr()\n              down = 0\n            } else {\n              down = 1\n              up = 0\n            }\n          }\n        }\n        v = this.cv\n      }\n    })\n  }\n}\n\nknobDemo.init()\n"]}